<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hi Food - Trang Qu·∫£n Tr·ªã</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/admin.css">
</head>
<body>
    <div class="admin-layout">
        <aside class="sidebar">
            <div class="logo">
                <i class="fas fa-utensils"></i>
                <span>Hi <strong>Food</strong></span>
                <small>Admin Panel</small>
            </div>
            <nav>
                <a href="#dashboard" class="nav-item active" data-page="dashboard">
                    <i class="fas fa-chart-line"></i>
                    <span>T·ªïng quan</span>
                </a>
                <a href="#products" class="nav-item" data-page="products">
                    <i class="fas fa-hamburger"></i>
                    <span>Qu·∫£n l√Ω S·∫£n ph·∫©m</span>
                </a>
                <a href="#orders" class="nav-item" data-page="orders">
                    <i class="fas fa-shopping-cart"></i>
                    <span>Qu·∫£n l√Ω ƒê∆°n h√†ng</span>
                </a>
                <a href="#users" class="nav-item" data-page="users">
                    <i class="fas fa-users"></i>
                    <span>Qu·∫£n l√Ω Ng∆∞·ªùi d√πng</span>
                </a>
                <a href="#analytics" class="nav-item" data-page="analytics">
                    <i class="fas fa-chart-bar"></i>
                    <span>Ph√¢n t√≠ch</span>
                </a>
                <a href="/" class="nav-item">
                    <i class="fas fa-home"></i>
                    <span>V·ªÅ trang ch·ªß</span>
                </a>
            </nav>
            <div class="user-info">
                <div class="user-avatar">
                    <i class="fas fa-user-circle"></i>
                </div>
                <div class="user-details">
                    <p class="user-name" id="adminName">Admin</p>
                    <p class="user-role">Qu·∫£n tr·ªã vi√™n</p>
                </div>
                <button id="btnLogout" class="btn ghost logout-btn">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </aside>

        <main class="main-content">
            <!-- Trang T·ªïng Quan -->
            <section id="dashboardPage" class="page">
                <div class="page-header">
                    <div class="header-content">
                        <h1><i class="fas fa-chart-line"></i> T·ªïng quan</h1>
                        <p>Th·ªëng k√™ t·ªïng quan v·ªÅ ho·∫°t ƒë·ªông c·ªßa h·ªá th·ªëng</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn refresh-btn" id="refreshDashboard">
                            <i class="fas fa-sync-alt"></i> L√†m m·ªõi
                        </button>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card revenue">
                        <div class="stat-icon">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <div class="stat-content">
                            <h3>T·ªïng Doanh Thu</h3>
                            <p id="totalRevenue">0 VND</p>
                            <span class="stat-change positive" id="revenueChange">+0%</span>
                        </div>
                    </div>
                    <div class="stat-card orders">
                        <div class="stat-icon">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <div class="stat-content">
                            <h3>T·ªïng ƒê∆°n H√†ng</h3>
                            <p id="totalOrders">0</p>
                            <span class="stat-change positive" id="ordersChange">+0%</span>
                        </div>
                    </div>
                    <div class="stat-card products">
                        <div class="stat-icon">
                            <i class="fas fa-hamburger"></i>
                        </div>
                        <div class="stat-content">
                            <h3>S·ªë S·∫£n Ph·∫©m</h3>
                            <p id="totalProducts">0</p>
                            <span class="stat-change neutral" id="productsChange">0%</span>
                        </div>
                    </div>
                    <div class="stat-card users">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <h3>S·ªë Ng∆∞·ªùi D√πng</h3>
                            <p id="totalUsers">0</p>
                            <span class="stat-change positive" id="usersChange">+0%</span>
                        </div>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h2><i class="fas fa-chart-area"></i> Bi·ªÉu ƒë·ªì Doanh thu</h2>
                            <div class="chart-toolbar">
                                <button class="chip active" data-timeframe="daily">Theo Ng√†y</button>
                                <button class="chip" data-timeframe="monthly">Theo Th√°ng</button>
                                <button class="chip" data-timeframe="yearly">Theo NƒÉm</button>
                            </div>
                        </div>
                        <div class="chart-wrapper">
                            <canvas id="revenueChart"></canvas>
                        </div>
                    </div>

                    <div class="recent-orders">
                        <div class="chart-header">
                            <h2><i class="fas fa-clock"></i> ƒê∆°n h√†ng g·∫ßn ƒë√¢y</h2>
                            <a href="#orders" class="btn ghost small">Xem t·∫•t c·∫£</a>
                        </div>
                        <div class="orders-list" id="recentOrdersList">
                            <!-- Recent orders will be loaded here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Trang Qu·∫£n L√Ω S·∫£n Ph·∫©m -->
            <section id="productsPage" class="page hidden">
                <div class="page-header">
                    <div class="header-content">
                        <h1><i class="fas fa-hamburger"></i> Qu·∫£n l√Ω S·∫£n ph·∫©m</h1>
                        <p>Qu·∫£n l√Ω menu v√† s·∫£n ph·∫©m c·ªßa c·ª≠a h√†ng</p>
                    </div>
                    <div class="header-actions">
                        <button id="btnAddProduct" class="btn">
                            <i class="fas fa-plus"></i> Th√™m S·∫£n ph·∫©m m·ªõi
                        </button>
                    </div>
                </div>

                <div class="filters-bar">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="productSearch" placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m...">
                    </div>
                    <select id="categoryFilter">
                        <option value="">T·∫•t c·∫£ danh m·ª•c</option>
                    </select>
                    <select id="sortProducts">
                        <option value="">S·∫Øp x·∫øp</option>
                        <option value="name-asc">T√™n A-Z</option>
                        <option value="name-desc">T√™n Z-A</option>
                        <option value="price-asc">Gi√° tƒÉng d·∫ßn</option>
                        <option value="price-desc">Gi√° gi·∫£m d·∫ßn</option>
                    </select>
                </div>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>·∫¢nh</th>
                                <th>T√™n s·∫£n ph·∫©m</th>
                                <th>Danh m·ª•c</th>
                                <th>Gi√°</th>
                                <th>Tr·∫°ng th√°i</th>
                                <th>H√†nh ƒë·ªông</th>
                            </tr>
                        </thead>
                        <tbody id="productsTableBody">
                            <!-- D·ªØ li·ªáu s·∫£n ph·∫©m s·∫Ω ƒë∆∞·ª£c ch√®n v√†o ƒë√¢y -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Trang Qu·∫£n L√Ω ƒê∆°n H√†ng -->
            <section id="ordersPage" class="page hidden">
                <div class="page-header">
                    <div class="header-content">
                        <h1><i class="fas fa-shopping-cart"></i> Qu·∫£n l√Ω ƒê∆°n h√†ng</h1>
                        <p>Theo d√µi v√† qu·∫£n l√Ω c√°c ƒë∆°n h√†ng c·ªßa kh√°ch</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn refresh-btn" id="refreshOrders">
                            <i class="fas fa-sync-alt"></i> L√†m m·ªõi
                        </button>
                    </div>
                </div>

                <div class="filters-bar">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="orderSearch" placeholder="T√¨m ki·∫øm ƒë∆°n h√†ng...">
                    </div>
                    <select id="statusFilter">
                        <option value="">T·∫•t c·∫£ tr·∫°ng th√°i</option>
                        <option value="pending">Ch·ªù x·ª≠ l√Ω</option>
                        <option value="processing">ƒêang x·ª≠ l√Ω</option>
                        <option value="completed">Ho√†n th√†nh</option>
                        <option value="cancelled">ƒê√£ h·ªßy</option>
                    </select>
                    <input type="date" id="dateFilter" placeholder="L·ªçc theo ng√†y">
                </div>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>M√£ ƒë∆°n</th>
                                <th>Kh√°ch h√†ng</th>
                                <th>S·∫£n ph·∫©m</th>
                                <th>T·ªïng ti·ªÅn</th>
                                <th>Tr·∫°ng th√°i</th>
                                <th>Ng√†y t·∫°o</th>
                                <th>H√†nh ƒë·ªông</th>
                            </tr>
                        </thead>
                        <tbody id="ordersTableBody">
                            <!-- D·ªØ li·ªáu ƒë∆°n h√†ng s·∫Ω ƒë∆∞·ª£c ch√®n v√†o ƒë√¢y -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Trang Qu·∫£n L√Ω Ng∆∞·ªùi D√πng -->
            <section id="usersPage" class="page hidden">
                <div class="page-header">
                    <div class="header-content">
                        <h1><i class="fas fa-users"></i> Qu·∫£n l√Ω Ng∆∞·ªùi d√πng</h1>
                        <p>Qu·∫£n l√Ω th√¥ng tin v√† quy·ªÅn c·ªßa ng∆∞·ªùi d√πng</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn refresh-btn" id="refreshUsers">
                            <i class="fas fa-sync-alt"></i> L√†m m·ªõi
                        </button>
                    </div>
                </div>

                <div class="filters-bar">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="userSearch" placeholder="T√¨m ki·∫øm ng∆∞·ªùi d√πng...">
                    </div>
                    <select id="roleFilter">
                        <option value="">T·∫•t c·∫£ vai tr√≤</option>
                        <option value="user">Ng∆∞·ªùi d√πng</option>
                        <option value="admin">Qu·∫£n tr·ªã vi√™n</option>
                        <option value="staff">Nh√¢n vi√™n</option>
                    </select>
                </div>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Avatar</th>
                                <th>T√™n</th>
                                <th>Email</th>
                                <th>S·ªë ƒëi·ªán tho·∫°i</th>
                                <th>Vai tr√≤</th>
                                <th>Ng√†y ƒëƒÉng k√Ω</th>
                                <th>H√†nh ƒë·ªông</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody">
                            <!-- D·ªØ li·ªáu ng∆∞·ªùi d√πng s·∫Ω ƒë∆∞·ª£c ch√®n v√†o ƒë√¢y -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Trang Ph√¢n T√≠ch -->
            <section id="analyticsPage" class="page hidden">
                <div class="page-header">
                    <div class="header-content">
                        <h1><i class="fas fa-chart-bar"></i> Ph√¢n t√≠ch</h1>
                        <p>Ph√¢n t√≠ch chi ti·∫øt v·ªÅ hi·ªáu su·∫•t kinh doanh</p>
                    </div>
                    <div class="header-actions">
                        <select id="analyticsPeriod">
                            <option value="7">7 ng√†y qua</option>
                            <option value="30">30 ng√†y qua</option>
                            <option value="90">90 ng√†y qua</option>
                            <option value="365">1 nƒÉm qua</option>
                        </select>
                    </div>
                </div>

                <div class="analytics-grid">
                    <div class="analytics-card">
                        <h3><i class="fas fa-chart-pie"></i> S·∫£n ph·∫©m b√°n ch·∫°y</h3>
                        <div class="chart-wrapper">
                            <canvas id="topProductsChart"></canvas>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h3><i class="fas fa-chart-line"></i> Doanh thu theo gi·ªù</h3>
                        <div class="chart-wrapper">
                            <canvas id="hourlyRevenueChart"></canvas>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h3><i class="fas fa-map-marker-alt"></i> Ph√¢n b·ªë ƒë·ªãa l√Ω</h3>
                        <div class="chart-wrapper">
                            <canvas id="geographicChart"></canvas>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h3><i class="fas fa-calendar"></i> Xu h∆∞·ªõng ƒë·∫∑t h√†ng</h3>
                        <div class="chart-wrapper">
                            <canvas id="trendChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal Th√™m/S·ª≠a S·∫£n Ph·∫©m -->
    <div id="productModal" class="modal hidden">
        <div class="modal-card">
            <div class="modal-header">
                <h2 id="modalTitle"><i class="fas fa-plus-circle"></i> Th√™m S·∫£n ph·∫©m M·ªõi</h2>
                <button class="modal-close" id="closeModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-content">
                <form id="productForm">
                    <input type="hidden" id="productId">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="productName">
                                <i class="fas fa-tag"></i> T√™n s·∫£n ph·∫©m
                            </label>
                            <input type="text" id="productName" required placeholder="Nh·∫≠p t√™n s·∫£n ph·∫©m">
                        </div>
                        <div class="form-group">
                            <label for="productCategory">
                                <i class="fas fa-list"></i> Danh m·ª•c
                            </label>
                            <select id="productCategory" required>
                                <option value="">Ch·ªçn danh m·ª•c</option>
                                <option value="ƒê·ªì ƒÉn">üçΩÔ∏è ƒê·ªì ƒÉn</option>
                                <option value="ƒê·ªì u·ªëng">ü•§ ƒê·ªì u·ªëng</option>
                                <option value="ƒÇn v·∫∑t">üçø ƒÇn v·∫∑t</option>
                                <option value="Tr√°ng mi·ªáng">üç∞ Tr√°ng mi·ªáng</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="productPrice">
                                <i class="fas fa-dollar-sign"></i> Gi√° (VND)
                            </label>
                            <input type="number" id="productPrice" required placeholder="Nh·∫≠p gi√° s·∫£n ph·∫©m" min="0">
                        </div>
                        <div class="form-group">
                            <label for="productStatus">
                                <i class="fas fa-toggle-on"></i> Tr·∫°ng th√°i
                            </label>
                            <select id="productStatus">
                                <option value="active">‚úÖ Ho·∫°t ƒë·ªông</option>
                                <option value="inactive">‚ùå T·∫°m ng∆∞ng</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row full">
                        <div class="form-group">
                            <label for="productDescription">
                                <i class="fas fa-align-left"></i> M√¥ t·∫£ s·∫£n ph·∫©m
                            </label>
                            <textarea id="productDescription" placeholder="Nh·∫≠p m√¥ t·∫£ chi ti·∫øt v·ªÅ s·∫£n ph·∫©m..."></textarea>
                        </div>
                    </div>
                    <div class="form-row full">
                        <div class="form-group">
                            <label for="productImage">
                                <i class="fas fa-image"></i> ·∫¢nh s·∫£n ph·∫©m
                            </label>
                            <div class="image-upload">
                                <input type="file" id="productImage" accept="image/*">
                                <div class="image-preview-container">
                                    <img id="imagePreview" src="" alt="Xem tr∆∞·ªõc ·∫£nh" class="hidden">
                                    <div class="image-placeholder">
                                        <i class="fas fa-cloud-upload-alt"></i>
                                        <p>K√©o th·∫£ ·∫£nh v√†o ƒë√¢y ho·∫∑c click ƒë·ªÉ ch·ªçn</p>
                                        <span class="upload-hint">H·ªó tr·ª£: JPG, PNG, GIF (T·ªëi ƒëa 5MB)</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn ghost" id="cancelProduct">
                            <i class="fas fa-times"></i> H·ªßy b·ªè
                        </button>
                        <button type="submit" class="btn">
                            <i class="fas fa-save"></i> L∆∞u s·∫£n ph·∫©m
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal X√°c nh·∫≠n -->
    <div id="confirmModal" class="modal hidden">
        <div class="modal-card small">
            <div class="modal-header">
                <h2><i class="fas fa-exclamation-triangle"></i> X√°c nh·∫≠n</h2>
            </div>
            <div class="modal-content">
                <p id="confirmMessage">B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën th·ª±c hi·ªán h√†nh ƒë·ªông n√†y?</p>
            </div>
            <div class="form-actions">
                <button type="button" class="btn ghost" id="confirmCancel">H·ªßy</button>
                <button type="button" class="btn danger" id="confirmOk">X√°c nh·∫≠n</button>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>ƒêang t·∫£i...</p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/admin.js?v=1.1"></script>
</body>
</html>