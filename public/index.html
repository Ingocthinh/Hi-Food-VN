<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hi Food - Äá»“ Äƒn & Äá»“ uá»‘ng</title>
  <link rel="stylesheet" href="/styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="">
</head>
<body>
  <header class="hf-header">
    <div class="hf-logo">Hi <span>Food</span></div>
    <nav class="hf-nav">
      <a href="#home" id="navHome">Trang chá»§</a>
      <a href="#menu" id="navMenu">Thá»±c Ä‘Æ¡n</a>
      <a href="#delivery" id="navDelivery">Giao hÃ ng</a>
      <a href="#checkout" id="navCheckout">Thanh toÃ¡n</a>
    </nav>
    <div class="hf-actions">
      <div class="lang-switch">
        <button id="langVi" class="chip small active"> VI</button>
        <button id="langEn" class="chip small"> EN</button>
      </div>
      <button id="btnLogin" class="btn ghost">ÄÄƒng nháº­p</button>
      <button id="btnRegister" class="btn ghost">ÄÄƒng kÃ½</button>
      <div id="userBox" class="user-box hidden">
        <span id="userName"></span>
        <button id="btnLogout" class="btn ghost">ÄÄƒng xuáº¥t</button>
      </div>
      <button id="btnCart" class="btn cart" aria-label="Giá» hÃ ng">
        <span class="cart-ico" aria-hidden="true">ğŸ›’</span><span id="cartCount">0</span>
      </button>
    </div>
  </header>

  <section id="home" class="hero">
    <div class="blob red b1"></div>
    <div class="blob white b2"></div>
    <div class="hero-content">
      <h1 class="shine">Ä‚n ngon - Uá»‘ng Ä‘Ã£ - Giao nhanh</h1>
      <p>HÆ¡n 60 mÃ³n Äƒn & thá»©c uá»‘ng Ä‘Æ°á»£c chá»n lá»c, phá»¥c vá»¥ má»i lÃºc.</p>
      <a href="#menu" class="btn cta">KhÃ¡m phÃ¡ thá»±c Ä‘Æ¡n</a>
    </div>
    <div class="hero-bg"></div>
  </section>

  <main id="menu" class="menu">
    <div class="menu-toolbar">
      <input id="searchInput" type="text" placeholder="TÃ¬m mÃ³n..." />
      <select id="categoryFilter">
        <option value="">Táº¥t cáº£ danh má»¥c</option>
      </select>
      <select id="sortSelect">
        <option value="">Sáº¯p xáº¿p</option>
        <option value="price-asc">GiÃ¡ tÄƒng dáº§n</option>
        <option value="price-desc">GiÃ¡ giáº£m dáº§n</option>
        <option value="name-asc">TÃªn A-Z</option>
      </select>
    </div>
    <div id="productsGrid" class="grid"></div>
  </main>

  <section id="delivery" class="checkout">
    <h2 id="deliveryTitle">Giao hÃ ng</h2>
    <div class="checkout-summary">
      <div class="checkout-card">
        <div class="delivery">
          <div class="address-box">
            <input id="addressInput" placeholder="Nháº­p Ä‘á»‹a chá»‰ giao hÃ ng" />
            <div id="addressSuggest" class="suggest hidden"></div>
          </div>
          <div class="delivery-actions">
            <button id="btnLocate" class="btn ghost">Láº¥y vá»‹ trÃ­ cá»§a tÃ´i</button>
            <span id="distanceLabel">Khoáº£ng cÃ¡ch: <strong id="distanceKm">0 km</strong></span>
          </div>
          <div class="map-toolbar">
            <button id="toggleMapLock" class="btn ghost small" aria-pressed="true">ğŸ”’ KhÃ³a báº£n Ä‘á»“</button>
          </div>
          <div id="map" class="map"></div>
        </div>
      </div>
    </div>
  </section>

  <section id="checkout" class="checkout">
    <h2 id="checkoutTitle">Thanh toÃ¡n QR</h2>
    <div class="checkout-summary">
      <div class="checkout-card">
        <div class="total-line"><span id="lblSubtotal">Táº¡m tÃ­nh</span><i class="colon" aria-hidden="true"></i><strong id="subtotal">0 VND</strong></div>
        <div class="total-line"><span id="lblShipping">Váº­n chuyá»ƒn</span><i class="colon" aria-hidden="true"></i><strong id="shipping">0 VND</strong></div>
        <div class="total-big"><span id="lblTotal">Tá»•ng cá»™ng</span><i class="colon" aria-hidden="true"></i><strong id="total">0 VND</strong></div>
        <div class="pay-chips" id="paymentMethods">
          <button class="chip active" data-method="momo" id="chipMomo">Momo</button>
          <button class="chip" data-method="zalopay" id="chipZalo">ZaloPay</button>
          <button class="chip" data-method="vnpay" id="chipVnpay">VNPAY</button>
          <button class="chip" data-method="bank" id="chipBank">NgÃ¢n hÃ ng</button>
        </div>
        <div class="note">
          <input id="orderNote" placeholder="Ghi chÃº cho Ä‘Æ¡n hÃ ng (tuá»³ chá»n)" />
        </div>
        <div class="cta-row">
          <button id="btnRefreshTotal" class="btn">Cáº­p nháº­t tá»•ng</button>
          <button id="btnCopyTotal" class="btn ghost">Sao chÃ©p tá»•ng</button>
        </div>
        <p class="hint" id="transferHint">Sau khi quÃ©t mÃ£ vÃ  chuyá»ƒn khoáº£n, vui lÃ²ng ghi rÃµ ná»™i dung Ä‘áº·t hÃ ng (VD: HiFood + sá»‘ Ä‘iá»‡n thoáº¡i).</p>
      </div>
      <div class="checkout-card">
        <h3 id="qrTitle">MÃ£ QR Thanh ToÃ¡n</h3>
        <div id="qrList" class="qr-list"></div>
        <p class="hint" id="qrHint">QR Thanh toÃ¡n</p>
      </div>
    </div>
  </section>

  <div id="modalAuth" class="modal hidden">
    <div class="modal-card">
      <button class="modal-close" id="closeAuth">Ã—</button>
      <div class="tabs">
        <button id="tabLogin" class="tab active">ÄÄƒng nháº­p</button>
        <button id="tabRegister" class="tab">ÄÄƒng kÃ½</button>
      </div>
      <div id="paneLogin" class="pane">
        <input id="loginIdentity" type="text" placeholder="Email hoáº·c SÄT" />
        <div class="input-wrap">
          <input id="loginPassword" type="password" placeholder="Máº­t kháº©u" />
          <button id="toggleLoginPassword" class="eye" aria-label="Hiá»‡n/áº©n máº­t kháº©u">ğŸ‘ï¸</button>
        </div>
        <div class="social-row">
          <button id="loginGoogle" class="btn ghost social">ğŸ”´ Google</button>
          <button id="loginFacebook" class="btn ghost social">ğŸ”µ Facebook</button>
        </div>
        <button id="doLogin" class="btn">ÄÄƒng nháº­p</button>
      </div>
      <div id="paneRegister" class="pane hidden">
        <input id="regName" type="text" placeholder="Há» vÃ  tÃªn" />
        <input id="regEmail" type="email" placeholder="Email" />
        <input id="regPhone" type="tel" placeholder="Sá»‘ Ä‘iá»‡n thoáº¡i" />
        <div class="input-wrap">
          <input id="regPassword" type="password" placeholder="Máº­t kháº©u" />
          <button id="toggleRegPassword" class="eye" aria-label="Hiá»‡n/áº©n máº­t kháº©u">ğŸ‘ï¸</button>
        </div>
        <div class="input-wrap">
          <input id="regPassword2" type="password" placeholder="XÃ¡c nháº­n máº­t kháº©u" />
          <button id="toggleRegPassword2" class="eye" aria-label="Hiá»‡n/áº©n máº­t kháº©u">ğŸ‘ï¸</button>
        </div>
        <div class="social-row">
          <button id="registerGoogle" class="btn ghost social">ğŸ”´ Google</button>
          <button id="registerFacebook" class="btn ghost social">ğŸ”µ Facebook</button>
        </div>
        <button id="doRegister" class="btn">ÄÄƒng kÃ½</button>
      </div>
    </div>
  </div>

  <aside id="cartDrawer" class="cart-drawer hidden">
    <div class="cart-header">
      <h3>Giá» hÃ ng</h3>
      <button id="closeCart" class="btn ghost icon" aria-label="ÄÃ³ng">Ã—</button>
    </div>
    <div id="cartItems" class="cart-items"></div>
    <div class="cart-footer">
      <div>Tá»•ng: <strong id="cartTotal">0 VND</strong></div>
      <a href="#checkout" id="goCheckout" class="btn">Thanh toÃ¡n</a>
    </div>
  </aside>

  <script src="/config.js"></script>
  <!-- Google Identity Services for Web -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <!-- Facebook SDK -->
  <div id="fb-root"></div>
  <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js"></script>
  <script src="/app.js"></script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <script>
    // Prefetch QR list silently
    fetch('/api/qr-list').catch(()=>{});
  </script>
  <footer class="footer">Â© 2025 Hi Food â€¢ Ngon - Nhanh - Nhiá»u Æ¯u ÄÃ£i</footer>

  <!-- Chatbox Button -->
  <button id="chatToggle" class="chat-toggle">ğŸ’¬</button>
  <div id="chatBox" class="chatbox hidden">
    <div class="chat-header">
      <div class="title">Hi Food Assistant</div>
      <button id="chatClose" class="btn icon" aria-label="ÄÃ³ng">Ã—</button>
    </div>
    <div id="chatMessages" class="chat-messages"></div>
    <div class="chat-input">
      <input id="chatText" placeholder="Nháº­p cÃ¢u há»i cá»§a báº¡n..." />
      <button id="chatSend" class="btn">Gá»­i</button>
    </div>
  </div>
</body>
</html>





